<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS --> 
    <title>
        2nd International Saudi Health Informatics Conference (ISHIC 2017) المؤتمر الدولي السعودي الثاني في المعلوماتية الصحية
    </title>
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="./js/yk-s.js">

    </script>
    <script src='./js/qr.js'> </script>
    

</head>

<body>

<svg  viewBox="0 0 595 420"  xmlns="http://www.w3.org/2000/svg">
 <!-- Created with Method Draw - http://github.com/duopixel/Method-Draw/    ?guest_id=-Kgx6rJDISBJo3fBsaeG -->
 <g>
  <title>background</title>
  <rect fill="#fff" id="canvas_background" height="422" width="597" y="-1" x="-1"/>
  <g display="none" overflow="visible" y="0" x="0" height="100%" width="100%" id="canvasGrid">
   <rect fill="url(#gridpattern)" stroke-width="0" y="0" x="0" height="100%" width="100%"/>
  </g>
 </g>
 <g>
  <title>Layer 1</title>
  <rect id="svg_1" height="413.33333" width="292.30769" y="2.82051" x="3.39744" stroke-width="1.5" fill="#f2f2f2"/>
  <rect id="svg_2" height="413.33333" width="292.30769" y="3.31984" x="299.78069" stroke-width="1.5" fill="#f2f2f2"/>
  <!--<rect id="svg_3" height="77.36841" width="78.42104" y="8.42109" x="10.92109" stroke-width="1.5" fill="#f9dfcf"/>-->
  <image xlink:href="./img/Logo2.jpg" height="77.36841" width="78.42104" y="8.42109" x="10.92109"/>
  <rect id="svg_4" height="39.99999" width="185.78945" y="23.68425" x="97.23686" stroke-width="1.5" fill="#f9dfcf"/>
  <rect id="svg_5" height="44.21052" width="265.26312" y="108.94739" x="16.18425" stroke-width="1.5" fill="#cfecf7"/>
  <rect id="svg_6" height="44.21052" width="265.26312" y="158.94738" x="16.18425" stroke-width="1.5" fill="#cfecf7"/>
  <rect id="svg_7" height="44.21052" width="265.26312" y="210" x="16.18425" stroke-width="1.5" fill="#cfecf7"/>
  <rect id="svg_9" height="44.21052" width="265.26312" y="364.73682" x="15.65793" stroke-width="1.5" fill="#f4cde0"/>
  <rect id="svg_10" height="245.26312" width="245.26312" y="84.73687" x="324.60525" stroke-width="1.5" fill="#a0a0a0"/>
  <image id='qrcode'  height="245.26312" width="245.26312" y="84.73687" x="324.60525"/>
  <text xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="24" id="title" y="52.10529" x="100.92107" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#000" fill="#000000">title</text>
  <text style="cursor: move;" xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="24" id="name" y="139.4737" x="21.97372" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#000" fill="#000000">Name</text>
  <text style="cursor: move;" xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="24" id="speci" y="188.94738" x="21.4474" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#000" fill="#000000">Sep</text>
  <text style="cursor: move;" xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="24" id="inst" y="240" x="21.4474" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#000" fill="#000000">Inst</text>
  <text style="cursor: move;" xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="24" id="type" y="395.78945" x="126.18423" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#000" fill="#000000">Type</text>
  
 </g>
</svg>
</body>
</html>

<script>
     var guest_id = window.location.search.slice(1);
    // firebase get guest
    function getGuest(){

        var ref = firebase.database().ref(guest_id);
ref.orderByKey().equalTo(guest_id).on("child_added", function(snapshot) {
  console.log(snapshot.key);
  console.log('i was here');
});
    }
    // if dosnt exsist return err or msg
    // else 
    // 1 generate QR code baseed on : guest ID , workshops --> image
    // 2 fill the palce holders 
    
     // E.g fill text
     document.getElementById("name").innerHTML = "khalid almutiri";
     // E.g make QR code
    const qr = new QRious({
          value: '{id:12312312312323123123,wshops:[1,2,3]}'
        });
    // E.g fill Image with QR code
    document.getElementById("qrcode").setAttributeNS('http://www.w3.org/1999/xlink','href',qr.toDataURL('image/jpeg'));         
    </script>